<!DOCTYPE html><html class="appearance-dark" lang="en"><head><meta charset="UTF-8"><title>自定義MUI的主題</title><meta name="description" content="只專注一件事"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><link rel="icon" href="/"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="前言雖然 MUI 已經用了一段時間了
我自己認為還是對他不是很熟悉
所以想寫一篇來多了解他
MUI with emotionnpm install @mui/material @emotion/react @emotion/styled
若要使用 MUI，他的官方會直接叫你下這個指令
WHY?
emotion 是一個 css in js 的套件，和 styled component 相似
而 MUI 就使使用 emotion 的一些方法去客製化他的 component 樣式
MUI 本是提供「功能面」的 Component，自身已經有一個預設的樣式，要客製化還是依賴 emotion
createThemecreateTheme 提供以下 default 的 key 可以去設定
當然也可以自定義 key 名稱.."><meta name="generator" content="Hexo 7.3.0"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Eddy's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">自定義MUI的主題</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MUI-with-emotion"><span class="toc-text">MUI with emotion</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#createTheme"><span class="toc-text">createTheme</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#palette"><span class="toc-text">palette</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#typography"><span class="toc-text">typography</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#spacing"><span class="toc-text">spacing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#breakpoints"><span class="toc-text">breakpoints</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#components"><span class="toc-text">components</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#apply-themes"><span class="toc-text">apply themes</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#useTheme"><span class="toc-text">useTheme</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#styled"><span class="toc-text">styled</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sx"><span class="toc-text">sx</span></a></li></ol></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/frontend"><i class="tag post-item-tag">frontend</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">自定義MUI的主題</h1><time class="has-text-grey" datetime="2023-06-18T16:00:00.000Z">2023-06-19</time><article class="mt-2 post-content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>雖然 MUI 已經用了一段時間了</p>
<p>我自己認為還是對他不是很熟悉</p>
<p>所以想寫一篇來多了解他</p>
<h1 id="MUI-with-emotion"><a href="#MUI-with-emotion" class="headerlink" title="MUI with emotion"></a>MUI with emotion</h1><p><code>npm install @mui/material @emotion/react @emotion/styled</code></p>
<p>若要使用 MUI，他的官方會直接叫你下這個指令</p>
<p>WHY?</p>
<p>emotion 是一個 css in js 的套件，和 styled component 相似</p>
<p>而 MUI 就使使用 emotion 的一些方法去客製化他的 component 樣式</p>
<p>MUI 本是提供「功能面」的 Component，自身已經有一個預設的樣式，要客製化還是依賴 emotion</p>
<h2 id="createTheme"><a href="#createTheme" class="headerlink" title="createTheme"></a>createTheme</h2><p>createTheme 提供以下 default 的 key 可以去設定</p>
<p>當然也可以自定義 key 名稱，但注意不能使用’var’作為 key 名稱</p>
<p><a target="_blank" rel="noopener" href="https://mui.com/material-ui/customization/default-theme/">這是是 MUI theme 的 default 值</a></p>
<h3 id="palette"><a href="#palette" class="headerlink" title="palette"></a>palette</h3><p>設定顏色的 object</p>
<p>something like this…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">palette</span>: &#123;</span><br><span class="line">  <span class="attr">background</span>: &#123;</span><br><span class="line">    <span class="attr">default</span>: <span class="string">&#x27;#EEEEEE&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="typography"><a href="#typography" class="headerlink" title="typography"></a>typography</h3><p>可以 customize 字的樣式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">typography</span>: &#123;</span><br><span class="line">  <span class="attr">subtitle1</span>: &#123;</span><br><span class="line">    <span class="attr">fontSize</span>: <span class="number">12</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">body1</span>: &#123;</span><br><span class="line">    <span class="attr">fontWeight</span>: <span class="number">500</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">button</span>: &#123;</span><br><span class="line">    <span class="attr">fontStyle</span>: <span class="string">&#x27;italic&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="spacing"><a href="#spacing" class="headerlink" title="spacing"></a>spacing</h3><p>使用方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">theme.<span class="title function_">spacing</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// 就等於 2 X 8px = 16px</span></span><br></pre></td></tr></table></figure>

<p>default 單位是 px</p>
<p>也可以自定義單位成 rem</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">spacing</span>: <span class="function">(<span class="params">factor</span>) =&gt;</span> <span class="string">`<span class="subst">$&#123;<span class="number">0.25</span> * factor&#125;</span>rem`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="breakpoints"><a href="#breakpoints" class="headerlink" title="breakpoints"></a>breakpoints</h3><p>自定義方式如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">breakpoints</span>: &#123;</span><br><span class="line">  <span class="attr">values</span>: &#123;</span><br><span class="line">    <span class="attr">xs</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">sm</span>: <span class="number">600</span>,</span><br><span class="line">    <span class="attr">md</span>: <span class="number">900</span>,</span><br><span class="line">    <span class="attr">lg</span>: <span class="number">1200</span>,</span><br><span class="line">    <span class="attr">xl</span>: <span class="number">1536</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="components"><a href="#components" class="headerlink" title="components"></a>components</h3><p>可以更改 default props</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> theme = <span class="title function_">createTheme</span>(&#123;</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="comment">// Name of the component</span></span><br><span class="line">    <span class="title class_">MuiButtonBase</span>: &#123;</span><br><span class="line">      <span class="attr">defaultProps</span>: &#123;</span><br><span class="line">        <span class="comment">// The props to change the default for.</span></span><br><span class="line">        <span class="attr">disableRipple</span>: <span class="literal">true</span>, <span class="comment">// No more ripple, on the whole application 💣!</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>或是 override styles</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">MuiButton</span>: &#123;</span><br><span class="line">  <span class="attr">styleOverrides</span>: &#123;</span><br><span class="line">    <span class="comment">// Name of the slot</span></span><br><span class="line">    <span class="attr">root</span>: &#123;</span><br><span class="line">      <span class="comment">// Some CSS</span></span><br><span class="line">      <span class="attr">fontSize</span>: <span class="string">&#x27;1rem&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>又或者 customize variants + default styles</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">components</span>: &#123;</span><br><span class="line">  <span class="title class_">MuiButton</span>: &#123;</span><br><span class="line">    <span class="attr">styleOverrides</span>: &#123;</span><br><span class="line">      <span class="attr">root</span>: <span class="function">(<span class="params">&#123; ownerState &#125;</span>) =&gt;</span> (&#123;</span><br><span class="line">        ...(ownerState.<span class="property">variant</span> === <span class="string">&#x27;contained&#x27;</span> &amp;&amp;</span><br><span class="line">          ownerState.<span class="property">color</span> === <span class="string">&#x27;primary&#x27;</span> &amp;&amp; &#123;</span><br><span class="line">            <span class="attr">backgroundColor</span>: <span class="string">&#x27;#202020&#x27;</span>,</span><br><span class="line">            <span class="attr">color</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">          &#125;),</span><br><span class="line">      &#125;),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="apply-themes"><a href="#apply-themes" class="headerlink" title="apply themes"></a>apply themes</h2><p>在 createTheme 定義好樣式之後，有些會直接使用到預設的樣式</p>
<p>但大部分會需要手動去使用</p>
<p>假設這是我定義好的 theme</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> theme = <span class="title function_">createTheme</span>(&#123;</span><br><span class="line">  <span class="attr">palette</span>: &#123;</span><br><span class="line">    <span class="attr">primary</span>: &#123;</span><br><span class="line">      <span class="attr">main</span>: <span class="string">&quot;#ff4400&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MyApp</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ThemeProvider</span> <span class="attr">theme</span>=<span class="string">&#123;theme&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">MyComponent</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ThemeProvider</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="useTheme"><a href="#useTheme" class="headerlink" title="useTheme"></a>useTheme</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">MyComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 使用主題</span></span><br><span class="line">  <span class="keyword">const</span> theme = <span class="title function_">useTheme</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> <span class="attr">theme.palette.primary.main</span> &#125;&#125;&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以下有幾種方法</p>
<h3 id="styled"><a href="#styled" class="headerlink" title="styled"></a>styled</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">StyledDiv</span> = <span class="title function_">styled</span>(<span class="string">&quot;div&quot;</span>)(<span class="function">(<span class="params">&#123; theme &#125;</span>) =&gt;</span> (&#123;</span><br><span class="line">  <span class="attr">color</span>: theme.<span class="property">palette</span>.<span class="property">primary</span>.<span class="property">main</span>,</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>

<h3 id="sx"><a href="#sx" class="headerlink" title="sx"></a>sx</h3><p>sx 有兩種方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">MyComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Box</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">sx</span>=<span class="string">&#123;(theme)</span> =&gt;</span> (&#123;</span></span><br><span class="line"><span class="language-xml">        color: theme.palette.primary.main,</span></span><br><span class="line"><span class="language-xml">        backgroundColor: theme.palette.background.default,</span></span><br><span class="line"><span class="language-xml">      &#125;)&#125;</span></span><br><span class="line"><span class="language-xml">    &gt;</span></span><br><span class="line"><span class="language-xml">      Hello, world!</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Box</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">MyComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Box</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">sx</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">width:</span> <span class="attr">300</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">color:</span> &quot;<span class="attr">success.main</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    &gt;</span></span></span><br><span class="line"><span class="language-xml">      Hello, world!</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Box</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2023/07/02/6/" title="近期面試結果、心得"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: 近期面試結果、心得</span></a><a class="button is-default" href="/2023/06/09/4/" title="入職滿一年記錄一下"><span class="has-text-weight-semibold">Next: 入職滿一年記錄一下</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="Haojen/myBlogRepo" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/milkeddy1"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com/milkeddy1"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> Eddy 2024</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>